{
  "testPlanId": "IPP_WORKFLOW_TEST",
  "title": "Internship Performance Passport (IPP) Complete Workflow Test",
  "description": "End-to-end testing of IPP creation, mentor evaluation, student submission, and certificate generation",
  "baseUrl": "http://localhost:5000",
  "frontendUrl": "http://localhost:5173",
  "testUser": {
    "email": "suhail17mohammad@gmail.com",
    "password": "12345678",
    "role": "student"
  },
  "tests": [
    {
      "id": "IPP001",
      "title": "Student Login and Authentication",
      "description": "Verify student can login with provided credentials and receive valid JWT token",
      "category": "authentication",
      "priority": "Critical",
      "steps": [
        {
          "type": "action",
          "description": "POST /api/auth/login with student credentials"
        },
        {
          "type": "assertion",
          "description": "Verify response status is 200 and contains token"
        },
        {
          "type": "assertion",
          "description": "Verify user object contains correct email and role=student"
        }
      ]
    },
    {
      "id": "IPP002",
      "title": "Fetch Student Applications",
      "description": "Retrieve all applications for the authenticated student to find eligible internships for IPP",
      "category": "functional",
      "priority": "High",
      "steps": [
        {
          "type": "action",
          "description": "GET /api/applications with student auth token"
        },
        {
          "type": "assertion",
          "description": "Verify response status is 200"
        },
        {
          "type": "assertion",
          "description": "Verify applications array contains accepted/offered applications"
        }
      ]
    },
    {
      "id": "IPP003",
      "title": "Create IPP for Accepted Internship",
      "description": "Initialize a new Internship Performance Passport for an accepted application",
      "category": "functional",
      "priority": "Critical",
      "steps": [
        {
          "type": "action",
          "description": "POST /api/ipp/create with studentId, internshipId, and applicationId"
        },
        {
          "type": "assertion",
          "description": "Verify response status is 201"
        },
        {
          "type": "assertion",
          "description": "Verify response contains ippId in format IPP-{studentId}-{internshipId}-{year}"
        },
        {
          "type": "assertion",
          "description": "Verify IPP status is 'pending_mentor_eval'"
        }
      ]
    },
    {
      "id": "IPP004",
      "title": "Fetch Student IPPs",
      "description": "Retrieve all IPPs for the authenticated student",
      "category": "functional",
      "priority": "High",
      "steps": [
        {
          "type": "action",
          "description": "GET /api/ipp/student/{studentId} with auth token"
        },
        {
          "type": "assertion",
          "description": "Verify response status is 200"
        },
        {
          "type": "assertion",
          "description": "Verify data array contains created IPP"
        },
        {
          "type": "assertion",
          "description": "Verify IPP contains internshipDetails with company and role"
        }
      ]
    },
    {
      "id": "IPP005",
      "title": "Send Mentor Evaluation Request",
      "description": "Generate magic link for company mentor to submit evaluation",
      "category": "functional",
      "priority": "Critical",
      "steps": [
        {
          "type": "action",
          "description": "POST /api/ipp/{ippId}/send-evaluation-request with mentor email and name"
        },
        {
          "type": "assertion",
          "description": "Verify response status is 200"
        },
        {
          "type": "assertion",
          "description": "Verify response contains success message"
        },
        {
          "type": "assertion",
          "description": "Verify magicLink is generated (for testing purposes)"
        }
      ]
    },
    {
      "id": "IPP006",
      "title": "Submit Company Mentor Evaluation (via Magic Link)",
      "description": "Mentor submits evaluation using magic link without authentication",
      "category": "functional",
      "priority": "Critical",
      "steps": [
        {
          "type": "action",
          "description": "PUT /api/ipp/{ippId}/company-evaluation with token and evaluation data"
        },
        {
          "type": "assertion",
          "description": "Verify response status is 200"
        },
        {
          "type": "assertion",
          "description": "Verify IPP status updated to 'pending_student_submission'"
        },
        {
          "type": "assertion",
          "description": "Verify companyMentorEvaluation is saved with ratings"
        }
      ]
    },
    {
      "id": "IPP007",
      "title": "Submit Student Documentation",
      "description": "Student submits internship report, reflection, and documentation",
      "category": "functional",
      "priority": "Critical",
      "steps": [
        {
          "type": "action",
          "description": "PUT /api/ipp/{ippId}/student-submission with submission data"
        },
        {
          "type": "assertion",
          "description": "Verify response status is 200"
        },
        {
          "type": "assertion",
          "description": "Verify IPP status updated to 'verified'"
        },
        {
          "type": "assertion",
          "description": "Verify certificate is auto-generated"
        },
        {
          "type": "assertion",
          "description": "Verify summary contains overallRating and performanceGrade"
        }
      ]
    },
    {
      "id": "IPP008",
      "title": "View IPP Details with Certificate",
      "description": "Retrieve complete IPP details including certificate and documents",
      "category": "functional",
      "priority": "High",
      "steps": [
        {
          "type": "action",
          "description": "GET /api/ipp/{ippId} with student auth token"
        },
        {
          "type": "assertion",
          "description": "Verify response status is 200"
        },
        {
          "type": "assertion",
          "description": "Verify studentSubmission contains internshipReport URL"
        },
        {
          "type": "assertion",
          "description": "Verify certificate object exists with certificateUrl and qrCode"
        },
        {
          "type": "assertion",
          "description": "Verify companyMentorEvaluation contains ratings"
        }
      ]
    },
    {
      "id": "IPP009",
      "title": "Public IPP View (No Auth)",
      "description": "Verify public can view published IPP without authentication",
      "category": "functional",
      "priority": "Medium",
      "steps": [
        {
          "type": "action",
          "description": "GET /api/ipp/public/{ippId} without auth token"
        },
        {
          "type": "assertion",
          "description": "Verify response status is 200 for published IPPs"
        },
        {
          "type": "assertion",
          "description": "Verify sharing.isPublic is true"
        },
        {
          "type": "assertion",
          "description": "Verify viewCount increments on each view"
        }
      ]
    }
  ]
}
